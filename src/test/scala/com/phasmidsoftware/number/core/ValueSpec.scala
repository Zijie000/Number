package com.phasmidsoftware.number.core

import com.phasmidsoftware.number.core.Value._
import org.scalatest.flatspec.AnyFlatSpec
import org.scalatest.matchers.should

/**
  * Specification for Value.
  *
  * TODO flesh this out.
  */
class ValueSpec extends AnyFlatSpec with should.Matchers {

    behavior of "Value"

    it should "signum" in {
        signum(fromInt(1)) shouldBe 1
        signum(fromInt(0)) shouldBe 0
        signum(fromInt(-1)) shouldBe -1
    }

    it should "maybeDouble" in {
        maybeDouble(fromDouble(Some(0.5))) shouldBe Some(0.5)
        maybeDouble(fromDouble(None)) shouldBe None
    }

    it should "valueToString 1" in {
        valueToString(fromRational(Rational("22/7"))) shouldBe "3.<142857>"
    }
    it should "valueToString 2" in {
        valueToString(fromRational(Rational("1/524287"))) shouldBe "0.<0000019073522707982459988517739329794559086912320923463675429678782804074867391333372751946929830417309603327948242088779618796575158262554669484461754725942088970354023654982862439846877759700316811212179588660409279650267887626433613650538731648886964582375683547370047321409838504483231512511277220301094629468211113378741033060136909745997898097797580332909265345125856639588622262234234302967649398134990949613475062322735448332688012481713260103721816486008617417559466475422812314629201181795466986593220888559128874070881025087404417809329622897382540478783567015775710631772292656503022199673079820785180635796805947887321257250322819371832603135305662738156772912545991031629622706647313398958967130598317333826701787379812965036325523997352595048132034553593737781024515198736569855823241850360584946794408406082927862029766139538077427058080783998077388911035368033157411875556708444039238050914861516688378693349253366953596026603749473093935191984542817197451014425305224047134489315966>"
    }

    it should "maybeInt" in {
        maybeInt(fromInt(1)) shouldBe Some(1)
    }

    it should "maybeRational" in {
        maybeRational(fromRational(Rational("1/2"))) shouldBe Some(Rational.half)
    }

    it should "abs" in {

    }

    it should "scaleDouble" in {

    }
}
